@startuml
' Descripción del sistema CheckPoint - Gestión de videojuegos, listas y usuarios

' === ENTIDADES PRINCIPALES ===

entity Usuario {
  +id: Long
  nombreUsuario: String
  email: String
  contraseña: String
  fotoPerfil: String
  fechaRegistro: DateTime
  fechaCreacion: DateTime
  fechaModificacion: DateTime
  fechaEliminacion: DateTime
}
note right of Usuario
  Representa a un usuario registrado en la aplicación.
  Puede tener listas, tier lists, juegos, configuraciones y amigos.
end note

entity Configuracion {
  +id: Long
  tema: String
  notificaciones: Boolean
  visibilidadPerfil: String
  usuario_id: Long
  fechaCreacion: DateTime
  fechaModificacion: DateTime
  fechaEliminacion: DateTime
}
note right of Configuracion
  Preferencias del usuario, como tema, visibilidad y notificaciones.
end note

entity Plataforma {
  +id: Long
  nombre: String
  logoUrl: String
  fechaCreacion: DateTime
  fechaModificacion: DateTime
  fechaEliminacion: DateTime
}
note right of Plataforma
  Representa una plataforma de videojuegos (Steam, PS5, etc).
end note

entity Juego {
  +id: Long
  idigdb: Long
  nombre: String
  descripcion: String
  imagenUrl: String
  genero: String
  plataformas: String[]
  puntuacionIGDB: Float
  fechaCreacion: DateTime
  fechaModificacion: DateTime
  fechaEliminacion: DateTime
}
note right of Juego
  Información base de un videojuego, obtenida de IGDB.
end note

entity JuegoUsuario {
  +id: Long
  estado: String
  posesion: Boolean
  puntuacion: Float
  comentario: String
  comentarioPrivado: String
  fechaInicio: Date
  fechaFin: Date
  importado: Boolean
  plataforma_id: Long
  usuario_id: Long
  juego_id: Long
  fechaCreacion: DateTime
  fechaModificacion: DateTime
  fechaEliminacion: DateTime
}
note right of JuegoUsuario
  Relación entre un usuario y un juego con información personalizada:
  estado, comentarios, puntuación, fechas, etc.
end note

entity Lista {
  +id: Long
  nombre: String
  fechaCreacion: DateTime
  usuario_id: Long
  fechaModificacion: DateTime
  fechaEliminacion: DateTime
}
note right of Lista
  Listas creadas por los usuarios, como "Juegos de 2023", "Favoritos", etc.
end note

entity ListaJuego {
  lista_id: Long
  juego_id: Long
  fechaCreacion: DateTime
}
note right of ListaJuego
  Asociación entre juegos y listas.
end note

entity TierList {
  +id: Long
  nombre: String
  usuario_id: Long
  fechaCreacion: DateTime
  fechaModificacion: DateTime
  fechaEliminacion: DateTime
}
note right of TierList
  Lista personalizada donde el usuario clasifica juegos en niveles.
end note

entity TierListJuego {
  tierlist_id: Long
  juego_id: Long
  nivel: String
  fechaCreacion: DateTime
}
note right of TierListJuego
  Asociación de juegos a una tier list con su respectivo nivel.
end note

entity PlataformaUsuario {
  usuario_id: Long
  plataforma_id: Long
  juegosImportados: Integer
  fechaCreacion: DateTime
}
note right of PlataformaUsuario
  Relación entre un usuario y una plataforma (ej: juegos importados de Steam).
end note

entity Ranking {
  juego_id: Long
  puntuacionMedia: Float
  numeroVotos: Integer
}
note right of Ranking
  Información agregada de puntuaciones de los usuarios sobre cada juego.
end note

entity Amistad {
  usuario_id: Long
  amigo_id: Long
  fechaCreacion: DateTime
}
note right of Amistad
  Relación de amistad entre usuarios. Es autoreferencial.
end note

' === RELACIONES ===

Usuario --o Configuracion : "1..1"
Usuario --o JuegoUsuario : "1..*"
Usuario --o Lista : "1..*"
Usuario --o TierList : "1..*"
Usuario --o PlataformaUsuario : "1..*"
Usuario --o Amistad : "1..*"
Juego --o JuegoUsuario : "1..*"
Juego --o ListaJuego : "1..*"
Juego --o TierListJuego : "1..*"
Juego -- Ranking : "1..1"
Lista --o ListaJuego : "1..*"
TierList --o TierListJuego : "1..*"
Plataforma --o PlataformaUsuario : "1..*"
JuegoUsuario --> Plataforma : "N..1"

@enduml